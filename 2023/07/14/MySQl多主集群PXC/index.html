<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>PXC(Percona XtraDB Cluster)8.0.32集群 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="PXC(Percona XtraDB Cluster)8.0.32集群">
<meta property="og:type" content="article">
<meta property="og:title" content="PXC(Percona XtraDB Cluster)8.0.32集群">
<meta property="og:url" content="http://example.com/2023/07/14/MySQl%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4PXC/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="PXC(Percona XtraDB Cluster)8.0.32集群">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://xcj-typora-img.oss-cn-hangzhou.aliyuncs.com/img/20230714133543.png">
<meta property="article:published_time" content="2023-07-14T03:49:07.000Z">
<meta property="article:modified_time" content="2023-07-17T06:04:12.397Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="MariaDB">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="PXC">
<meta property="article:tag" content="Cluster">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xcj-typora-img.oss-cn-hangzhou.aliyuncs.com/img/20230714133543.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-MySQl多主集群PXC" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/07/14/MySQl%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4PXC/" class="article-date">
  <time class="dt-published" datetime="2023-07-14T03:49:07.000Z" itemprop="datePublished">2023-07-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      PXC(Percona XtraDB Cluster)8.0.32集群
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="PXC简介"><a href="#PXC简介" class="headerlink" title="PXC简介"></a>PXC简介</h3><p>PXC是Percona XtraDB Cluster的缩写，是 Percona 公司出品的免费MySQL集群产品。PXC的作用是通过mysql自带的Galera集群技术，将不同的mysql实例连接起来，实现多主集群。在PXC集群中每个mysql节点都是可读可写的，也就是主从概念中的主节点，不存在只读的节点。<br>Percona Server是MySQL的改进版本，使用 XtraDB 存储引擎，在功能和性能上较 MySQL 有着很显著的提升，如提升了在高负载情况下的 InnoDB 的性能，为 DBA 提供了一些非常有用的性能诊断工具，另外有更多的参数和命令来控制服务器行为。<br>PXC 是一套 MySQL 高可用集群解决方案，与传统的基于主从复制模式的集群架构相比 PXC 最突出特点就是解决了诟病已久的数据复制延迟问题，基本上可以达到实时同步。而且节点与节点之间，他们相互的关系是对等的。PXC 最关注的是数据的一致性，对待事物的行为时，要么在所有节点上执行，要么都不执行，它的实现机制决定了它对待一致性的行为非常严格，这也能非常完美的保证 MySQL 集群的数据一致性；</p>
<h3 id="PXC特性和优点"><a href="#PXC特性和优点" class="headerlink" title="PXC特性和优点"></a>PXC特性和优点</h3><p>A. 完全兼容 MySQL。<br>B. 同步复制，事务要么在所有节点提交或不提交。<br>C. 多主复制，可以在任意节点进行写操作。<br>D. 在从服务器上并行应用事件，真正意义上的并行复制。<br>E. 节点自动配置，数据一致性，不再是异步复制。<br>F. 故障切换：因为支持多点写入，所以在出现数据库故障时可以很容易的进行故障切换。<br>G. 自动节点克隆：在新增节点或停机维护时，增量数据或基础数据不需要人工手动备份提供，galera cluster会自动拉取在线节点数据，集群最终会变为一致；</p>
<p>PXC最大的优势：强一致性、无同步延迟</p>
<h3 id="PXC的局限和劣势"><a href="#PXC的局限和劣势" class="headerlink" title="PXC的局限和劣势"></a>PXC的局限和劣势</h3><ol>
<li>复制只支持InnoDB 引擎，其他存储引擎的更改不复制</li>
<li>写入效率取决于节点中最慢的一台</li>
</ol>
<h3 id="PXC-常用端口"><a href="#PXC-常用端口" class="headerlink" title="PXC 常用端口"></a>PXC 常用端口</h3><ol>
<li>3306：数据库对外服务的端口号。</li>
<li>4444：请求SST的端口。</li>
<li>4567：组成员之间进行沟通的一个端口号</li>
<li>4568：用于传输IST。</li>
</ol>
<p>名词解释：<br>SST(State Snapshot Transfer): 全量传输<br>IST(Incremental state Transfer):增量传输</p>
<h3 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h3><table>
<thead>
<tr>
<th align="center">节点</th>
<th align="center">主机名</th>
<th align="center">IP</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">节点1</td>
<td align="center">Rocky8-1</td>
<td align="center">10.0.0.11</td>
<td>PXC集群节点1</td>
</tr>
<tr>
<td align="center">节点2</td>
<td align="center">Rocky8-2</td>
<td align="center">10.0.0.12</td>
<td>PXC集群节点1</td>
</tr>
<tr>
<td align="center">节点3</td>
<td align="center">Rocky8-3</td>
<td align="center">10.0.0.13</td>
<td>PXC集群节点1</td>
</tr>
</tbody></table>
<h4 id="检查初始环境："><a href="#检查初始环境：" class="headerlink" title="检查初始环境："></a>检查初始环境：</h4><p>三个节点均采用最小化安装，配置好yum源，关掉防火墙和selinux</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Linux版本</span></span><br><span class="line">[root@Rocky8-2 ~]<span class="comment"># cat /etc/centos-release</span></span><br><span class="line">Rocky Linux release 8.8 (Green Obsidian)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 防火墙</span></span><br><span class="line">[root@Rocky8-2 ~]<span class="comment"># systemctl status firewalld</span></span><br><span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled; vendor preset: enabled)</span><br><span class="line">   Active: inactive (dead)</span><br><span class="line">     Docs: man:firewalld(1)</span><br><span class="line">     </span><br><span class="line"><span class="comment">## selinux     </span></span><br><span class="line">[root@Rocky8-2 ~]<span class="comment"># sestatus</span></span><br><span class="line">SELinux status:                 disabled</span><br></pre></td></tr></table></figure>

<h4 id="从-Percona-仓库安装"><a href="#从-Percona-仓库安装" class="headerlink" title="从 Percona 仓库安装"></a>从 Percona 仓库安装</h4><p>三个节点同时安装，以下以节点3为例</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 配置yum源</span></span><br><span class="line">[root@Rocky8-3 ~]<span class="comment"># yum install -y https://repo.percona.com/yum/percona-release-latest.noarch.rpm</span></span><br><span class="line">......</span><br><span class="line">Installed:</span><br><span class="line">  percona-release-1.0-27.noarch                                                                                                                       </span><br><span class="line">Complete!</span><br><span class="line"></span><br><span class="line"><span class="comment">## 设置仓库</span></span><br><span class="line">[root@Rocky8-3 ~]<span class="comment"># percona-release setup pxc80</span></span><br><span class="line">Complete!</span><br><span class="line">DNF mysql module was disabled</span><br><span class="line">* Enabling the Percona XtraDB Cluster 8.0 repository</span><br><span class="line">* Enabling the Percona Tools repository</span><br><span class="line">&lt;*&gt; All <span class="keyword">done</span>!</span><br><span class="line"></span><br><span class="line">[root@Rocky8-3 ~]<span class="comment"># yum clean all ; yum makecache</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># yum install -y  percona-xtradb-cluster</span></span><br><span class="line">Installed:</span><br><span class="line">  checkpolicy-2.9-1.el8.x86_64                                                         compat-openssl10-1:1.0.2o-4.el8_6.x86_64                       </span><br><span class="line">  mariadb-connector-c-3.1.11-2.el8_3.x86_64                                            percona-xtradb-cluster-8.0.32-24.2.el8.x86_64                   </span><br><span class="line">  percona-xtradb-cluster-client-8.0.32-24.2.el8.x86_64                                 percona-xtradb-cluster-icu-data-files-8.0.32-24.2.el8.x86_64   </span><br><span class="line">  percona-xtradb-cluster-server-8.0.32-24.2.el8.x86_64                                 percona-xtradb-cluster-shared-8.0.32-24.2.el8.x86_64           </span><br><span class="line">  percona-xtradb-cluster-shared-compat-8.0.32-24.2.el8.x86_64                          perl-DBD-MySQL-4.046-3.module+el8.6.0+904+ef468285.x86_64       </span><br><span class="line">  perl-DBI-1.641-4.module+el8.6.0+891+677074cb.x86_64                                  perl-Math-BigInt-1:1.9998.11-7.el8.noarch                       </span><br><span class="line">  perl-Math-Complex-1.59-422.el8.noarch                                                policycoreutils-python-utils-2.9-24.el8.noarch                 </span><br><span class="line">  python2-2.7.18-13.module+el8.8.0+1314+be03569e.1.rocky.0.2.x86_64                    python2-libs-2.7.18-13.module+el8.8.0+1314+be03569e.1.rocky.0.2.x86_64   </span><br><span class="line">  python2-pip-9.0.3-19.module+el8.6.0+793+57002515.noarch                              python2-pip-wheel-9.0.3-19.module+el8.6.0+793+57002515.noarch   </span><br><span class="line">  python2-setuptools-39.0.1-13.module+el8.4.0+403+9ae17a31.noarch                      python2-setuptools-wheel-39.0.1-13.module+el8.4.0+403+9ae17a31.noarch                    </span><br><span class="line">  python3-audit-3.0.7-4.el8.x86_64                                                     python3-libsemanage-2.9-9.el8_6.x86_64                         </span><br><span class="line">  python3-policycoreutils-2.9-24.el8.noarch                                            python3-setools-4.3.0-3.el8.x86_64                             </span><br><span class="line">  qpress-20220819-3.el8.x86_64                                                         socat-1.7.4.1-1.el8.x86_64                                     </span><br><span class="line">Complete!</span><br></pre></td></tr></table></figure>

<h4 id="初始化第一个节点的mysql服务"><a href="#初始化第一个节点的mysql服务" class="headerlink" title="初始化第一个节点的mysql服务"></a>初始化第一个节点的mysql服务</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 启动 Percona XtraDB Cluster 服务</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># systemctl start mysqld</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 查找 mysql 数据库的 root 的临时密码</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># grep &#x27;temporary password&#x27; /var/log/mysqld.log</span></span><br><span class="line">2023-07-14T03:27:22.398733Z 6 [Note] [MY-010454] [Server] A temporary password is generated <span class="keyword">for</span> root@localhost: msobz!t<span class="comment">#q18J</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 使用临时密码登录 MySQL</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># mysql -uroot -p&#x27;msobz!t#q18J&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 更改 root 用户的密码</span></span><br><span class="line">mysql&gt; ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 重新登录mysql</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># mysql -uroot -p&#x27;123456&#x27;</span></span><br><span class="line">mysql: [Warning] Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 20</span><br><span class="line">Server version: 8.0.32-24.2 Percona XtraDB Cluster (GPL), Release rel24, Revision 2119e75, WSREP version 26.1.4.3</span><br><span class="line"></span><br><span class="line">Copyright (c) 2009-2023 Percona LLC and/or its affiliates</span><br><span class="line">Copyright (c) 2000, 2023, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment">## 关闭 MySQL 服务</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># systemctl stop mysqld</span></span><br></pre></td></tr></table></figure>

<h4 id="初始化PXC的配置文件"><a href="#初始化PXC的配置文件" class="headerlink" title="初始化PXC的配置文件"></a>初始化PXC的配置文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-1 ~]# vim /etc/my.cnf</span><br></pre></td></tr></table></figure>

<p><img src="https://xcj-typora-img.oss-cn-hangzhou.aliyuncs.com/img/20230714133543.png" alt="20230714133543"></p>
<p>主要修改如下配置</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 集群通讯地址</span></span><br><span class="line">wsrep_cluster_address=gcomm://10.0.0.11,10.0.0.12,10.0.0.13</span><br><span class="line"><span class="comment"># 本节点的地址</span></span><br><span class="line">wsrep_node_address=10.0.0.11</span><br><span class="line"><span class="comment"># 本节点的名称</span></span><br><span class="line">wsrep_node_name=pxc-cluster-node-1</span><br><span class="line"></span><br><span class="line"><span class="comment">## 在配置最后加上一行如下配置，作用是关闭传输加密</span></span><br><span class="line">pxc-encrypt-cluster-traffic=OFF</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：关闭传输加密，参考 <a target="_blank" rel="noopener" href="https://www.percona.com/doc/percona-xtradb-cluster/8.0/security/encrypt-traffic.html">Encrypting PXC Traffic</a><br>pxc-encrypt-cluster-traffic&#x3D;OFF</p>
</blockquote>
<blockquote>
<h4 id="配置文件参考："><a href="#配置文件参考：" class="headerlink" title="配置文件参考："></a>配置文件参考：</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-1 ~]<span class="comment"># cat /etc/my.cnf</span></span><br><span class="line"><span class="comment"># Template my.cnf for PXC</span></span><br><span class="line"><span class="comment"># Edit to your requirements.</span></span><br><span class="line">[client]</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">server-id=1</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># Binary log expiration period is 604800 seconds, which equals 7 days</span></span><br><span class="line">binlog_expire_logs_seconds=604800</span><br><span class="line"></span><br><span class="line"><span class="comment">######## wsrep ###############</span></span><br><span class="line"><span class="comment"># Path to Galera library</span></span><br><span class="line">wsrep_provider=/usr/lib64/galera4/libgalera_smm.so</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cluster connection URL contains IPs of nodes</span></span><br><span class="line"><span class="comment">#If no IP is found, this implies that a new cluster needs to be created,</span></span><br><span class="line"><span class="comment">#in order to do that you need to bootstrap this node</span></span><br><span class="line">wsrep_cluster_address=gcomm://10.0.0.11,10.0.0.12,10.0.0.13</span><br><span class="line"></span><br><span class="line"><span class="comment"># In order for Galera to work correctly binlog format should be ROW</span></span><br><span class="line">binlog_format=ROW</span><br><span class="line"></span><br><span class="line"><span class="comment"># Slave thread to use</span></span><br><span class="line">wsrep_slave_threads=8</span><br><span class="line"></span><br><span class="line">wsrep_log_conflicts</span><br><span class="line"></span><br><span class="line"><span class="comment"># This changes how InnoDB autoincrement locks are managed and is a requirement for Galera</span></span><br><span class="line">innodb_autoinc_lock_mode=2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Node IP address</span></span><br><span class="line">wsrep_node_address=10.0.0.11</span><br><span class="line"><span class="comment"># Cluster name</span></span><br><span class="line">wsrep_cluster_name=pxc-mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#If wsrep_node_name is not specified,  then system hostname will be used</span></span><br><span class="line">wsrep_node_name=pxc-mysql-node-1</span><br><span class="line"></span><br><span class="line"><span class="comment">#pxc_strict_mode allowed values: DISABLED,PERMISSIVE,ENFORCING,MASTER</span></span><br><span class="line">pxc_strict_mode=ENFORCING</span><br><span class="line"></span><br><span class="line"><span class="comment"># SST method</span></span><br><span class="line">wsrep_sst_method=xtrabackup-v2</span><br><span class="line"></span><br><span class="line">pxc-encrypt-cluster-traffic=OFF</span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># </span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="启动集群第一个节点"><a href="#启动集群第一个节点" class="headerlink" title="启动集群第一个节点"></a>启动集群第一个节点</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 启动集群第一个node（在前面初始化过mysql的节点执行）</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># systemctl start mysql@bootstrap</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 登录mysql,查看集群状态</span></span><br><span class="line">[root@Rocky8-1 ~]<span class="comment"># mysql -uroot -p123456</span></span><br><span class="line"></span><br><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep%&#x27;</span>;</span><br><span class="line">+----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Variable_name                    | Value                                                                                                                                          |</span><br><span class="line">+----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| wsrep_local_state_uuid           | 5dcd8a83-21f6-11ee-a89b-1b2bd4cfd52b                                                                                                           |</span><br><span class="line">| wsrep_protocol_version           | 10                                                                                                                                             |</span><br><span class="line">| wsrep_last_applied               | 3                                                                                                                                              |</span><br><span class="line">| wsrep_last_committed             | 3                                                                                                                                              |</span><br><span class="line">| wsrep_monitor_status (L/A/C)     | [ (2, 2), (3, 3), (3, 3) ]                                                                                                                     |</span><br><span class="line">| wsrep_replicated                 | 0                                                                                                                                              |</span><br><span class="line">| wsrep_replicated_bytes           | 0                                                                                                                                              |</span><br><span class="line">| wsrep_repl_keys                  | 0                                                                                                                                              |</span><br><span class="line">| wsrep_repl_keys_bytes            | 0                                                                                                                                              |</span><br><span class="line">| wsrep_repl_data_bytes            | 0                                                                                                                                              |</span><br><span class="line">| wsrep_repl_other_bytes           | 0                                                                                                                                              |</span><br><span class="line">| wsrep_received                   | 2                                                                                                                                              |</span><br><span class="line">| wsrep_received_bytes             | 152                                                                                                                                            |</span><br><span class="line">| wsrep_local_commits              | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_cert_failures        | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_replays              | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_send_queue           | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_send_queue_max       | 2                                                                                                                                              |</span><br><span class="line">| wsrep_local_send_queue_min       | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_send_queue_avg       | 0.5                                                                                                                                            |</span><br><span class="line">| wsrep_local_recv_queue           | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_recv_queue_max       | 2                                                                                                                                              |</span><br><span class="line">| wsrep_local_recv_queue_min       | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_recv_queue_avg       | 0.5                                                                                                                                            |</span><br><span class="line">| wsrep_local_cached_downto        | 1                                                                                                                                              |</span><br><span class="line">| wsrep_flow_control_paused_ns     | 0                                                                                                                                              |</span><br><span class="line">| wsrep_flow_control_paused        | 0                                                                                                                                              |</span><br><span class="line">| wsrep_flow_control_sent          | 0                                                                                                                                              |</span><br><span class="line">| wsrep_flow_control_recv          | 0                                                                                                                                              |</span><br><span class="line">| wsrep_flow_control_active        | <span class="literal">false</span>                                                                                                                                          |</span><br><span class="line">| wsrep_flow_control_requested     | <span class="literal">false</span>                                                                                                                                          |</span><br><span class="line">| wsrep_flow_control_interval      | [ 100, 100 ]                                                                                                                                   |</span><br><span class="line">| wsrep_flow_control_interval_low  | 100                                                                                                                                            |</span><br><span class="line">| wsrep_flow_control_interval_high | 100                                                                                                                                            |</span><br><span class="line">| wsrep_flow_control_status        | OFF                                                                                                                                            |</span><br><span class="line">| wsrep_cert_deps_distance         | 0                                                                                                                                              |</span><br><span class="line">| wsrep_apply_oooe                 | 0                                                                                                                                              |</span><br><span class="line">| wsrep_apply_oool                 | 0                                                                                                                                              |</span><br><span class="line">| wsrep_apply_window               | 0                                                                                                                                              |</span><br><span class="line">| wsrep_apply_waits                | 0                                                                                                                                              |</span><br><span class="line">| wsrep_commit_oooe                | 0                                                                                                                                              |</span><br><span class="line">| wsrep_commit_oool                | 0                                                                                                                                              |</span><br><span class="line">| wsrep_commit_window              | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_state                | 4                                                                                                                                              |</span><br><span class="line">| wsrep_local_state_comment        | Synced                                                                                                                                         |</span><br><span class="line">| wsrep_cert_index_size            | 0                                                                                                                                              |</span><br><span class="line">| wsrep_cert_bucket_count          | 1                                                                                                                                              |</span><br><span class="line">| wsrep_gcache_pool_size           | 1912                                                                                                                                           |</span><br><span class="line">| wsrep_causal_reads               | 0                                                                                                                                              |</span><br><span class="line">| wsrep_cert_interval              | 0                                                                                                                                              |</span><br><span class="line">| wsrep_open_transactions          | 0                                                                                                                                              |</span><br><span class="line">| wsrep_open_connections           | 0                                                                                                                                              |</span><br><span class="line">| wsrep_ist_receive_status         |                                                                                                                                                |</span><br><span class="line">| wsrep_ist_receive_seqno_start    | 0                                                                                                                                              |</span><br><span class="line">| wsrep_ist_receive_seqno_current  | 0                                                                                                                                              |</span><br><span class="line">| wsrep_ist_receive_seqno_end      | 0                                                                                                                                              |</span><br><span class="line">| wsrep_incoming_addresses         | 10.0.0.11:3306                                                                                                                                 |</span><br><span class="line">| wsrep_cluster_weight             | 1                                                                                                                                              |</span><br><span class="line">| wsrep_desync_count               | 0                                                                                                                                              |</span><br><span class="line">| wsrep_evs_delayed                |                                                                                                                                                |</span><br><span class="line">| wsrep_evs_evict_list             |                                                                                                                                                |</span><br><span class="line">| wsrep_evs_repl_latency           | 0/0/0/0/0                                                                                                                                      |</span><br><span class="line">| wsrep_evs_state                  | OPERATIONAL                                                                                                                                    |</span><br><span class="line">| wsrep_gcomm_uuid                 | aa3fd407-2209-11ee-bbf7-c23e28e1454d                                                                                                           |</span><br><span class="line">| wsrep_gmcast_segment             | 0                                                                                                                                              |</span><br><span class="line">| wsrep_cluster_capabilities       |                                                                                                                                                |</span><br><span class="line">| wsrep_cluster_conf_id            | 1                                                                                                                                              |</span><br><span class="line">| wsrep_cluster_size               | 1                                                                                                                                              |</span><br><span class="line">| wsrep_cluster_state_uuid         | 5dcd8a83-21f6-11ee-a89b-1b2bd4cfd52b                                                                                                           |</span><br><span class="line">| wsrep_cluster_status             | Primary                                                                                                                                        |</span><br><span class="line">| wsrep_connected                  | ON                                                                                                                                             |</span><br><span class="line">| wsrep_local_bf_aborts            | 0                                                                                                                                              |</span><br><span class="line">| wsrep_local_index                | 0                                                                                                                                              |</span><br><span class="line">| wsrep_provider_capabilities      | :MULTI_MASTER:CERTIFICATION:PARALLEL_APPLYING:TRX_REPLAY:ISOLATION:PAUSE:CAUSAL_READS:INCREMENTAL_WRITESET:UNORDERED:PREORDERED:STREAMING:NBO: |</span><br><span class="line">| wsrep_provider_name              | Galera                                                                                                                                         |</span><br><span class="line">| wsrep_provider_vendor            | Codership Oy &lt;info@codership.com&gt; (modified by Percona &lt;https://percona.com/&gt;)                                                                 |</span><br><span class="line">| wsrep_provider_version           | 4.14(779b689)                                                                                                                                  |</span><br><span class="line">| wsrep_ready                      | ON                                                                                                                                             |</span><br><span class="line">| wsrep_thread_count               | 9                                                                                                                                              |</span><br><span class="line">+----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">79 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.05 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看当前节点数量、状态</span></span><br><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep_cluster_size&#x27;</span>;</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| Variable_name      | Value |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| wsrep_cluster_size | 1     |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep_cluster_status&#x27;</span>;</span><br><span class="line">+----------------------+---------+</span><br><span class="line">| Variable_name        | Value   |</span><br><span class="line">+----------------------+---------+</span><br><span class="line">| wsrep_cluster_status | Primary |</span><br><span class="line">+----------------------+---------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep_connected&#x27;</span>;</span><br><span class="line">+-----------------+-------+</span><br><span class="line">| Variable_name   | Value |</span><br><span class="line">+-----------------+-------+</span><br><span class="line">| wsrep_connected | ON    |</span><br><span class="line">+-----------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="添加其它节点"><a href="#添加其它节点" class="headerlink" title="添加其它节点"></a>添加其它节点</h4><ol>
<li>所有其他节点的数据和配置都会被第一个节点的数据覆盖</li>
<li>不要同时加入多个节点，避免数据或网络开销过大</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-2 ~]<span class="comment"># systemctl start mysqld</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-3 ~]<span class="comment"># systemctl start mysqld</span></span><br></pre></td></tr></table></figure>

<h4 id="查看集群状态"><a href="#查看集群状态" class="headerlink" title="查看集群状态"></a>查看集群状态</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep_cluster_size&#x27;</span>;</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| Variable_name      | Value |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| wsrep_cluster_size | 3     |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="停止从节点"><a href="#停止从节点" class="headerlink" title="停止从节点"></a>停止从节点</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-3 ~]<span class="comment"># systemctl stop mysqld</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##  集群状态</span></span><br><span class="line">mysql&gt; show status like <span class="string">&#x27;wsrep_cluster_size&#x27;</span>;</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| Variable_name      | Value |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| wsrep_cluster_size | 2     |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="停止主节点"><a href="#停止主节点" class="headerlink" title="停止主节点"></a>停止主节点</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@Rocky8-1 ~]# systemctl stop mysql@bootstrap</span><br></pre></td></tr></table></figure>



<blockquote>
<p>参考：</p>
<p>官方文档：<a target="_blank" rel="noopener" href="https://docs.percona.com/percona-xtradb-cluster/8.0/install/index.html">Install Percona XtraDB Cluster - Percona XtraDB Cluster</a></p>
<p><a target="_blank" rel="noopener" href="https://qizhanming.com/blog/2020/06/22/how-to-install-percona-xtradb-cluster-on-centos-8">CentOS 8 安装 Percona XtraDB Cluster 8.0 - Zhanming’s blog (qizhanming.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000037760128">分布式高可用Mysql数据库Percona XtraDB Cluster 8.0 与 Proxysql 史上最详尽用法指南 - 个人文章 - SegmentFault 思否</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/07/14/MySQl%E5%A4%9A%E4%B8%BB%E9%9B%86%E7%BE%A4PXC/" data-id="clvujh4df000po0h93elj7qyj" data-title="PXC(Percona XtraDB Cluster)8.0.32集群" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cluster/" rel="tag">Cluster</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MariaDB/" rel="tag">MariaDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PXC/" rel="tag">PXC</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/07/18/PostgreSQL%E5%AE%89%E8%A3%85%E5%88%9D%E5%A7%8B%E5%8C%96/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          PostgreSQL安装初始化
        
      </div>
    </a>
  
  
    <a href="/2023/07/12/Mysql%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84GTID%E5%A4%8D%E5%88%B6/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">MySQL主从架构GTID复制</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E5%9F%BA%E7%A1%80/">Linux基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MarkDown/">MarkDown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PostgreSQL/">PostgreSQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%8E%E4%B8%BA%E6%95%B0%E9%80%9A/">华为数通</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/conf/" rel="tag">.conf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Backup/" rel="tag">Backup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cluster/" rel="tag">Cluster</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MariaDB/" rel="tag">MariaDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MarkDown/" rel="tag">MarkDown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mycat/" rel="tag">Mycat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MysqlDump/" rel="tag">MysqlDump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenVPN/" rel="tag">OpenVPN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PXC/" rel="tag">PXC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PostgreSQL/" rel="tag">PostgreSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RockyLinux/" rel="tag">RockyLinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typora/" rel="tag">Typora</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XtraBackup/" rel="tag">XtraBackup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/init/" rel="tag">init</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pg-dump/" rel="tag">pg_dump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%8E%E4%B8%BA%E6%95%B0%E9%80%9A/" rel="tag">华为数通</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/conf/" style="font-size: 10px;">.conf</a> <a href="/tags/Backup/" style="font-size: 12.86px;">Backup</a> <a href="/tags/Cluster/" style="font-size: 12.86px;">Cluster</a> <a href="/tags/Linux/" style="font-size: 15.71px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 20px;">MariaDB</a> <a href="/tags/MarkDown/" style="font-size: 10px;">MarkDown</a> <a href="/tags/MySQL/" style="font-size: 18.57px;">MySQL</a> <a href="/tags/Mycat/" style="font-size: 10px;">Mycat</a> <a href="/tags/MysqlDump/" style="font-size: 10px;">MysqlDump</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/OpenVPN/" style="font-size: 10px;">OpenVPN</a> <a href="/tags/PXC/" style="font-size: 10px;">PXC</a> <a href="/tags/PostgreSQL/" style="font-size: 14.29px;">PostgreSQL</a> <a href="/tags/RockyLinux/" style="font-size: 10px;">RockyLinux</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/XtraBackup/" style="font-size: 10px;">XtraBackup</a> <a href="/tags/init/" style="font-size: 17.14px;">init</a> <a href="/tags/pg-dump/" style="font-size: 11.43px;">pg_dump</a> <a href="/tags/shell/" style="font-size: 11.43px;">shell</a> <a href="/tags/%E5%8D%8E%E4%B8%BA%E6%95%B0%E9%80%9A/" style="font-size: 11.43px;">华为数通</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/04/29/OpenVPN%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/">OpenVPN安装与配置</a>
          </li>
        
          <li>
            <a href="/2024/04/18/Ubuntu%E5%88%9D%E5%A7%8B%E5%8C%96/">Ubuntu2204初始化</a>
          </li>
        
          <li>
            <a href="/2024/04/18/Rocky9%E5%88%9D%E5%A7%8B%E5%8C%96/">Rocky9初始化</a>
          </li>
        
          <li>
            <a href="/2024/04/18/Nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6nginx-conf/">Nginx配置文件nginx.conf</a>
          </li>
        
          <li>
            <a href="/2024/01/16/PostgreSQL%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86/">PostgreSQL日志管理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>